<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>Connection</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Connection";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a>
<div class="skip"><a href="#skip-navbar_top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/lotus/sametime/core/util/connection/ConnectionFactory.html" title="class in com.lotus.sametime.core.util.connection"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/lotus/sametime/core/util/connection/Connection.html" target="_top">Frames</a></li>
<li><a href="Connection.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.lotus.sametime.core.util.connection</div>
<h2 title="Class Connection" class="title">Class Connection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.lotus.sametime.core.util.connection.Connection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../com/lotus/sametime/core/util/connection/AgentConnection.html" title="class in com.lotus.sametime.core.util.connection">AgentConnection</a>, <a href="../../../../../../com/lotus/sametime/core/util/connection/HttpConnection.html" title="class in com.lotus.sametime.core.util.connection">HttpConnection</a>, <a href="../../../../../../com/lotus/sametime/core/util/connection/HybridPollingConnection.html" title="class in com.lotus.sametime.core.util.connection">HybridPollingConnection</a>, <a href="../../../../../../com/lotus/sametime/core/util/connection/RC2Connection.html" title="class in com.lotus.sametime.core.util.connection">RC2Connection</a>, <a href="../../../../../../com/lotus/sametime/core/util/connection/SocketConnection.html" title="class in com.lotus.sametime.core.util.connection">SocketConnection</a>, <a href="../../../../../../com/lotus/sametime/core/util/connection/SocksConnection.html" title="class in com.lotus.sametime.core.util.connection">SocksConnection</a>, <a href="../../../../../../com/lotus/sametime/core/util/connection/StTlsConnection.html" title="class in com.lotus.sametime.core.util.connection">StTlsConnection</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Connection</span>
extends java.lang.Object</pre>
<div class="block">An abstract class representing a connection to a server.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection">ClosedListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#m_closedListener">m_closedListener</a></strong></code>
<div class="block">The listener for closed events on this connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/lotus/sametime/core/util/connection/DataListener.html" title="interface in com.lotus.sametime.core.util.connection">DataListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#m_dataListener">m_dataListener</a></strong></code>
<div class="block">The listener for data events on this connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.lotus.sametime.core.util.connection.Receiver</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#m_receiver">m_receiver</a></strong></code>
<div class="block">The receiver thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.lotus.sametime.core.util.connection.Sender</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#m_sender">m_sender</a></strong></code>
<div class="block">The sender thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#m_sessionName">m_sessionName</a></strong></code>
<div class="block">Session name - can be used to obtain the session helper.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#Connection(long)">Connection</a></strong>(long&nbsp;timeout)</code>
<div class="block">Creates a new connection object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#close()">close</a></strong>()</code>
<div class="block">Closes this connection with ST_OK reason code.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#close(int)">close</a></strong>(int&nbsp;reason)</code>
<div class="block">Closes this connection, providing a reason code.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#enableTLS()">enableTLS</a></strong>()</code>
<div class="block">Enables TLS on this connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection">ClosedListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getClosedListener()">getClosedListener</a></strong>()</code>
<div class="block">Return the listener that listens to close events on this connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../com/lotus/sametime/core/util/connection/ConnectionInfo.html" title="class in com.lotus.sametime.core.util.connection">ConnectionInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getConnectionInfo()">getConnectionInfo</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/lotus/sametime/core/util/connection/DataListener.html" title="interface in com.lotus.sametime.core.util.connection">DataListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getDataListener()">getDataListener</a></strong>()</code>
<div class="block">Return the listener that listens to date received on this connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getHost()">getHost</a></strong>()</code>
<div class="block">Returns the host to connect to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.net.InetAddress</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getLocalAddress()">getLocalAddress</a></strong>()</code>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;
<div class="deprecatedContent">Was meant for internall use of the Sametime toolkit,
                   deprecated because it isn't compatible with C++ Sametime
                   clients.
                   Tries to guess the local address the best way we can
                   using the current connection information. The default
                   implementation uses InetAddress.getLocalHost().</div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getNetworkCloseReason()">getNetworkCloseReason</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#getTimeout()">getTimeout</a></strong>()</code>
<div class="block">Returns the connection time-out period.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#initializeConnection(java.lang.String, com.lotus.sametime.core.util.connection.ConnectionInitializer)">initializeConnection</a></strong>(java.lang.String&nbsp;host,
                    com.lotus.sametime.core.util.connection.ConnectionInitializer&nbsp;creator)</code>
<div class="block">Starts initializing the connection to the server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#isReady()">isReady</a></strong>()</code>
<div class="block">Queries if the connection is ready to send and receive data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#isReadyForInitialSend()">isReadyForInitialSend</a></strong>()</code>
<div class="block">Queries if the connection is ready to send the initial bulk of data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#networkError(int)">networkError</a></strong>(int&nbsp;error)</code>
<div class="block">Called when the underlying network connection was closed, to "bubble up"
 the error code, through this connection, all the way to the application.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#resetState()">resetState</a></strong>()</code>
<div class="block">This method is for Sametime internal use only and should not be called directly by 3rd party applications.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#sendMessage(byte[], byte)">sendMessage</a></strong>(byte[]&nbsp;msg,
           byte&nbsp;priority)</code>
<div class="block">Sends a message to the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#setBytesToReceive(int)">setBytesToReceive</a></strong>(int&nbsp;bytesToRead)</code>
<div class="block">Set the number of bytes to read on the next read.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#setClosedListener(com.lotus.sametime.core.util.connection.ClosedListener)">setClosedListener</a></strong>(<a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection">ClosedListener</a>&nbsp;listener)</code>
<div class="block">Sets the listener that listens to close events on this connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#setDataListener(com.lotus.sametime.core.util.connection.DataListener)">setDataListener</a></strong>(<a href="../../../../../../com/lotus/sametime/core/util/connection/DataListener.html" title="interface in com.lotus.sametime.core.util.connection">DataListener</a>&nbsp;listener)</code>
<div class="block">Sets the listener that listens to date received on this connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#setHost(java.lang.String)">setHost</a></strong>(java.lang.String&nbsp;host)</code>
<div class="block">Assigns a host name</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#setKeepAliveParams(long, byte[])">setKeepAliveParams</a></strong>(long&nbsp;rate,
                  byte[]&nbsp;message)</code>
<div class="block">Sets the parameters for the keep alive message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#setSessionName(java.lang.String)">setSessionName</a></strong>(java.lang.String&nbsp;sessionName)</code>
<div class="block">This method is for Sametime internal use only and should not be called directly by 3rd party applications.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#tlsCapable()">tlsCapable</a></strong>()</code>
<div class="block">Checks if this connection is TLS-capable.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#tlsEnabled()">tlsEnabled</a></strong>()</code>
<div class="block">Checks if this connection is TLS-enabled.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="m_dataListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_dataListener</h4>
<pre>protected&nbsp;<a href="../../../../../../com/lotus/sametime/core/util/connection/DataListener.html" title="interface in com.lotus.sametime.core.util.connection">DataListener</a> m_dataListener</pre>
<div class="block">The listener for data events on this connection.</div>
</li>
</ul>
<a name="m_closedListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_closedListener</h4>
<pre>protected&nbsp;<a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection">ClosedListener</a> m_closedListener</pre>
<div class="block">The listener for closed events on this connection.</div>
</li>
</ul>
<a name="m_receiver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_receiver</h4>
<pre>protected&nbsp;com.lotus.sametime.core.util.connection.Receiver m_receiver</pre>
<div class="block">The receiver thread.</div>
</li>
</ul>
<a name="m_sender">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_sender</h4>
<pre>protected&nbsp;com.lotus.sametime.core.util.connection.Sender m_sender</pre>
<div class="block">The sender thread.</div>
</li>
</ul>
<a name="m_sessionName">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>m_sessionName</h4>
<pre>protected&nbsp;java.lang.String m_sessionName</pre>
<div class="block">Session name - can be used to obtain the session helper.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Connection(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Connection</h4>
<pre>protected&nbsp;Connection(long&nbsp;timeout)</pre>
<div class="block">Creates a new connection object. The connection is not initialized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout period to use when attempting to
                   connect, in miliseconds.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initializeConnection(java.lang.String, com.lotus.sametime.core.util.connection.ConnectionInitializer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeConnection</h4>
<pre>protected abstract&nbsp;void&nbsp;initializeConnection(java.lang.String&nbsp;host,
                        com.lotus.sametime.core.util.connection.ConnectionInitializer&nbsp;creator)
                                      throws java.io.IOException</pre>
<div class="block">Starts initializing the connection to the server. After calling this
 routine, isReady() should be used to determine when the connection is
 actually initialized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - The host to connect to.</dd><dd><code>creator</code> - The initializer that tries to initialize this
                   connection. This is used if the connection wants to
                   overide the time out period.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If host is unreachable.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#isReady()"><code>isReady()</code></a></dd></dl>
</li>
</ul>
<a name="isReady()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReady</h4>
<pre>protected&nbsp;boolean&nbsp;isReady()</pre>
<div class="block">Queries if the connection is ready to send and receive data.
 This routine should return true only if:
 1. m_sender and m_receiver actually point to valid objects.
 2. A connection with the server was established, and the server agreed to
 accept the connection.
 3. First bulk of data was received back from the server. 
 
 Amir 15/07/02 - Rule 3 above added. Change the m_isReady flag only when 
 we get the first bulk of data.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#initializeConnection(java.lang.String, com.lotus.sametime.core.util.connection.ConnectionInitializer)"><code>initializeConnection(java.lang.String, com.lotus.sametime.core.util.connection.ConnectionInitializer)</code></a></dd></dl>
</li>
</ul>
<a name="getConnectionInfo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectionInfo</h4>
<pre>public abstract&nbsp;<a href="../../../../../../com/lotus/sametime/core/util/connection/ConnectionInfo.html" title="class in com.lotus.sametime.core.util.connection">ConnectionInfo</a>&nbsp;getConnectionInfo()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>An object describing this connection.</dd></dl>
</li>
</ul>
<a name="isReadyForInitialSend()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadyForInitialSend</h4>
<pre>protected&nbsp;boolean&nbsp;isReadyForInitialSend()</pre>
<div class="block">Queries if the connection is ready to send the initial bulk of data.
 This is needed because sometimes (i.e. in HTTP connections), we can only
 determine if the connection is fully ready after we send the initial
 handshake and get back the initial response (handshake ack).
 For most connection types, this is the same as the 'isReady' method, and
 the default implementation just calls isReady().
 
 Amir: 15/07/02: Not the same as the is ready. We assume that the 
 connection is ready only when received the first bulk of data. But ready
 for intial send when we have a receiver and sender.</div>
</li>
</ul>
<a name="getLocalAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalAddress</h4>
<pre>public&nbsp;java.net.InetAddress&nbsp;getLocalAddress()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;Was meant for internall use of the Sametime toolkit,
                   deprecated because it isn't compatible with C++ Sametime
                   clients.
                   Tries to guess the local address the best way we can
                   using the current connection information. The default
                   implementation uses InetAddress.getLocalHost().</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The local address, or null if we couldn't guess it.</dd></dl>
</li>
</ul>
<a name="getTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeout</h4>
<pre>public&nbsp;long&nbsp;getTimeout()</pre>
<div class="block">Returns the connection time-out period.</div>
</li>
</ul>
<a name="getHost()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHost</h4>
<pre>public&nbsp;java.lang.String&nbsp;getHost()</pre>
<div class="block">Returns the host to connect to. When null, the host passed by login
 should be used</div>
</li>
</ul>
<a name="setHost(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHost</h4>
<pre>protected&nbsp;void&nbsp;setHost(java.lang.String&nbsp;host)</pre>
<div class="block">Assigns a host name</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - The string holding the host name.</dd></dl>
</li>
</ul>
<a name="setDataListener(com.lotus.sametime.core.util.connection.DataListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataListener</h4>
<pre>protected&nbsp;void&nbsp;setDataListener(<a href="../../../../../../com/lotus/sametime/core/util/connection/DataListener.html" title="interface in com.lotus.sametime.core.util.connection">DataListener</a>&nbsp;listener)</pre>
<div class="block">Sets the listener that listens to date received on this connection.
 This overrides an previous listeners that were set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The object listenning to this connection.</dd></dl>
</li>
</ul>
<a name="setClosedListener(com.lotus.sametime.core.util.connection.ClosedListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClosedListener</h4>
<pre>protected&nbsp;void&nbsp;setClosedListener(<a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection">ClosedListener</a>&nbsp;listener)</pre>
<div class="block">Sets the listener that listens to close events on this connection.
 This overrides any previous listeners that were set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The object listenning to this connection.</dd></dl>
</li>
</ul>
<a name="getDataListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataListener</h4>
<pre>protected&nbsp;<a href="../../../../../../com/lotus/sametime/core/util/connection/DataListener.html" title="interface in com.lotus.sametime.core.util.connection">DataListener</a>&nbsp;getDataListener()</pre>
<div class="block">Return the listener that listens to date received on this connection.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The object listenning to this connection.</dd></dl>
</li>
</ul>
<a name="getClosedListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClosedListener</h4>
<pre>protected&nbsp;<a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection">ClosedListener</a>&nbsp;getClosedListener()</pre>
<div class="block">Return the listener that listens to close events on this connection.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The object listenning to this connection.</dd></dl>
</li>
</ul>
<a name="sendMessage(byte[], byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;void&nbsp;sendMessage(byte[]&nbsp;msg,
               byte&nbsp;priority)</pre>
<div class="block">Sends a message to the server.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The message to send.</dd><dd><code>priority</code> - The message's priority.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes this connection with ST_OK reason code. This method must be called
 before the connection object is discarded, unless the connection was
 closed from the other side. No further use of this object is allowed.
 If initialization failed, this routine should also clean up the
 connection. Also, it should be legal to call this method more than once.</div>
</li>
</ul>
<a name="close(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close(int&nbsp;reason)</pre>
<div class="block">Closes this connection, providing a reason code. This method, or the other
 version of close that accepts no parameters, must be called before the
 connection object is discarded, unless the connection was closed from the
 other side.
 No further use of this object is allowed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reason</code> - The reason code.</dd></dl>
</li>
</ul>
<a name="networkError(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>networkError</h4>
<pre>public&nbsp;void&nbsp;networkError(int&nbsp;error)</pre>
<div class="block">Called when the underlying network connection was closed, to "bubble up"
 the error code, through this connection, all the way to the application.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reason</code> - The network-level error code.</dd></dl>
</li>
</ul>
<a name="getNetworkCloseReason()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNetworkCloseReason</h4>
<pre>public&nbsp;int&nbsp;getNetworkCloseReason()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The reason this connection was disconnected.</dd></dl>
</li>
</ul>
<a name="setKeepAliveParams(long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeepAliveParams</h4>
<pre>public&nbsp;void&nbsp;setKeepAliveParams(long&nbsp;rate,
                      byte[]&nbsp;message)</pre>
<div class="block">Sets the parameters for the keep alive message. Call this method only
 after the connection is initialized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rate</code> - The keep alive rate, in miliseconds. 0 means no
                   keep alive.</dd><dd><code>message</code> - What message to send as the keep alive message.</dd></dl>
</li>
</ul>
<a name="setBytesToReceive(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBytesToReceive</h4>
<pre>public&nbsp;void&nbsp;setBytesToReceive(int&nbsp;bytesToRead)</pre>
<div class="block">Set the number of bytes to read on the next read. Warning: this will
 discard all bytes currently available in the buffer, and is not
 synchronized. To avoid losing data, this method should be called only from
 the onReceive event handler - where we know the buffer is empty, and we
 are running from the receiver thread - or before the receiver is started.</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="setSessionName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSessionName</h4>
<pre>public&nbsp;void&nbsp;setSessionName(java.lang.String&nbsp;sessionName)</pre>
<div class="block">This method is for Sametime internal use only and should not be called directly by 3rd party applications.</div>
</li>
</ul>
<a name="resetState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetState</h4>
<pre>public&nbsp;void&nbsp;resetState()</pre>
<div class="block">This method is for Sametime internal use only and should not be called directly by 3rd party applications.</div>
</li>
</ul>
<a name="tlsCapable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tlsCapable</h4>
<pre>public&nbsp;boolean&nbsp;tlsCapable()</pre>
<div class="block">Checks if this connection is TLS-capable.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the connection is TLS-capable, false if it's not.</dd></dl>
</li>
</ul>
<a name="tlsEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tlsEnabled</h4>
<pre>public&nbsp;boolean&nbsp;tlsEnabled()</pre>
<div class="block">Checks if this connection is TLS-enabled.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the connection is TLS-enabled, false if it's not.</dd></dl>
</li>
</ul>
<a name="enableTLS()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>enableTLS</h4>
<pre>public&nbsp;boolean&nbsp;enableTLS()</pre>
<div class="block">Enables TLS on this connection. Only valid for connection that is
 <a href="../../../../../../com/lotus/sametime/core/util/connection/Connection.html#tlsCapable()"><code>tlsCapable()</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this call has enabled TLS, false if TLS
  was already enabled, or if not capable.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a>
<div class="skip"><a href="#skip-navbar_bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/lotus/sametime/core/util/connection/ClosedListener.html" title="interface in com.lotus.sametime.core.util.connection"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/lotus/sametime/core/util/connection/ConnectionFactory.html" title="class in com.lotus.sametime.core.util.connection"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/lotus/sametime/core/util/connection/Connection.html" target="_top">Frames</a></li>
<li><a href="Connection.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
